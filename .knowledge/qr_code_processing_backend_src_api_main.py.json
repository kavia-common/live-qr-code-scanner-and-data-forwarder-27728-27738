{"is_source_file": true, "format": "Python", "description": "This file implements a FastAPI-based backend service for QR code processing. It manages webcam scanning for QR codes using OpenCV, sends decoded QR data to an external API, and forwards responses to a configurable webhook. It includes configuration management endpoints, background threading for QR scanning, and handling for start/stop operations.", "external_files": ["cv2", "httpx", "dotenv", "fastapi", "pydantic"], "external_methods": ["cv2.QRCodeDetector.detectAndDecode", "httpx.Client", "httpx.Client.post"], "published": ["health_check", "websocket_usage_notes", "start_scanner", "stop_scanner", "scanner_status", "process_qr", "get_config", "update_config"], "classes": [{"name": "QRScannerService", "description": "Encapsulates webcam capture, QR code detection, and background scanning loop using OpenCV. Handles sending QR data to external API and forwarding responses to a webhook.", "methods": [{"name": "__init__", "description": "Initializes the scanner service, setting up threading and state variables."}, {"name": "is_running", "description": "Returns whether the scanner background thread is active."}, {"name": "start", "description": "Starts the background thread to capture video from the specified camera index and perform QR detection at the specified scan interval."}, {"name": "stop", "description": "Stops the background scanning thread and releases the camera."}, {"name": "_run_loop", "description": "Main background loop for capturing frames, detecting QR codes, and triggering processing."}, {"name": "_process_payload_safe", "description": "Processes a single QR payload in a separate thread, sending to external API and webhook."}, {"name": "_send_to_external", "description": "Sends QR data to the external API endpoint."}, {"name": "_forward_to_webhook", "description": "Forwards the external API response details to the webhook URL."}]}], "methods": [{"name": "Dict[str,str] health_check()", "description": "A simple health check endpoint to verify the service is running.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,str] websocket_usage_notes()", "description": "Provides notes on WebSocket usage (no actual WebSocket implemented).", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] start_scanner(req: StartScanRequest = Body(default=None))", "description": "API endpoint to start QR code scanning in background.", "parameters": ["StartScanRequest"], "scope": "", "scopeKind": ""}, {"name": "StopScanResponse stop_scanner()", "description": "API endpoint to stop QR code scanning.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] scanner_status()", "description": "API endpoint to get current scanner status.", "scope": "", "scopeKind": ""}, {"name": "ProcessQRResponse process_qr(req: ProcessQRRequest)", "description": "Manual process a QR payload: send to the external API and forward response.", "scope": "", "scopeKind": ""}, {"name": "ConfigResponse get_config()", "description": "Fetch current runtime configuration.", "scope": "", "scopeKind": ""}, {"name": "ConfigResponse update_config(req: UpdateConfigRequest)", "description": "Update configuration fields at runtime.", "scope": "", "scopeKind": ""}, {"name": "None __init__(self)", "scope": "QRScannerService", "scopeKind": "class", "description": "unavailable"}, {"name": "httpx.Response _forward_to_webhook(client: httpx.Client, external_response: httpx.Response)", "scope": "QRScannerService", "scopeKind": "class", "description": "unavailable"}, {"name": "None _process_payload_safe(self, payload: str)", "scope": "QRScannerService", "scopeKind": "class", "description": "unavailable"}, {"name": "None _run_loop(self, camera_index: int, scan_interval_ms: int)", "scope": "QRScannerService", "scopeKind": "class", "description": "unavailable"}, {"name": "httpx.Response _send_to_external(client: httpx.Client, data: str)", "scope": "QRScannerService", "scopeKind": "class", "description": "unavailable"}, {"name": "bool is_running(self)", "scope": "QRScannerService", "scopeKind": "class", "description": "unavailable"}, {"name": "None start(self, camera_index: int, scan_interval_ms: int)", "scope": "QRScannerService", "scopeKind": "class", "description": "unavailable"}, {"name": "None stop(self)", "scope": "QRScannerService", "scopeKind": "class", "description": "unavailable"}], "calls": ["cv2.QRCodeDetector.detectAndDecode", "httpx.Client.post"], "search-terms": ["QRScannerService", "background threading", "openCV QR detection", "FastAPI QR code backend", "QR code API forwarding", "webcam QR scan"], "state": 2, "file_id": 1, "knowledge_revision": 10, "git_revision": "980c9acc7c12260c2c61bb8f3615f3685b7a6276", "revision_history": [{"8": "980c9acc7c12260c2c61bb8f3615f3685b7a6276"}, {"10": "980c9acc7c12260c2c61bb8f3615f3685b7a6276"}], "ctags": [{"_type": "tag", "name": "CONFIG", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^CONFIG: ServiceConfig = ServiceConfig($/", "language": "Python", "typeref": "typename:ServiceConfig", "kind": "variable"}, {"_type": "tag", "name": "ConfigResponse", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^class ConfigResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DEFAULT_API_KEY", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^DEFAULT_API_KEY = os.getenv(\"EXTERNAL_API_KEY\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DEFAULT_EXTERNAL_API_URL", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^DEFAULT_EXTERNAL_API_URL = os.getenv(\"EXTERNAL_API_URL\", \"https:\\/\\/httpbin.org\\/post\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DEFAULT_WEBHOOK_URL", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^DEFAULT_WEBHOOK_URL = os.getenv(\"WEBHOOK_URL\", \"https:\\/\\/httpbin.org\\/post\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ProcessQRRequest", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^class ProcessQRRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProcessQRResponse", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^class ProcessQRResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "QRScannerService", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^class QRScannerService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SCANNER", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^SCANNER = QRScannerService()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ServiceConfig", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^class ServiceConfig(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "StartScanRequest", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^class StartScanRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "StopScanResponse", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^class StopScanResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UpdateConfigRequest", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^class UpdateConfigRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "QRScannerService", "scopeKind": "class"}, {"_type": "tag", "name": "_forward_to_webhook", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    def _forward_to_webhook(client: httpx.Client, external_response: httpx.Response) -> httpx.Re/", "language": "Python", "typeref": "typename:httpx.Response", "kind": "member", "signature": "(client: httpx.Client, external_response: httpx.Response)", "scope": "QRScannerService", "scopeKind": "class"}, {"_type": "tag", "name": "_process_payload_safe", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    def _process_payload_safe(self, payload: str) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, payload: str)", "scope": "QRScannerService", "scopeKind": "class"}, {"_type": "tag", "name": "_run_loop", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    def _run_loop(self, camera_index: int, scan_interval_ms: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, camera_index: int, scan_interval_ms: int)", "scope": "QRScannerService", "scopeKind": "class"}, {"_type": "tag", "name": "_send_to_external", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    def _send_to_external(client: httpx.Client, data: str) -> httpx.Response:$/", "language": "Python", "typeref": "typename:httpx.Response", "kind": "member", "signature": "(client: httpx.Client, data: str)", "scope": "QRScannerService", "scopeKind": "class"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "camera_index", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    camera_index: Optional[int] = Field(default=None, description=\"Override the configured camer/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "StartScanRequest", "scopeKind": "class"}, {"_type": "tag", "name": "camera_index", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    camera_index: Optional[int] = Field(default=None, description=\"Webcam index.\")$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "UpdateConfigRequest", "scopeKind": "class"}, {"_type": "tag", "name": "camera_index", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    camera_index: int = Field(default=0, description=\"Index of the webcam (default 0 for the pri/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ServiceConfig", "scopeKind": "class"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    config: ServiceConfig = Field(..., description=\"Current service configuration.\")$/", "language": "Python", "typeref": "typename:ServiceConfig", "kind": "variable", "scope": "ConfigResponse", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    data: str = Field(..., description=\"Decoded QR code content to process via external API.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProcessQRRequest", "scopeKind": "class"}, {"_type": "tag", "name": "external_api_key", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    external_api_key: Optional[str] = Field(default=None, description=\"API key (if required) for/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "ServiceConfig", "scopeKind": "class"}, {"_type": "tag", "name": "external_api_key", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    external_api_key: Optional[str] = Field(default=None, description=\"API key for the external /", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UpdateConfigRequest", "scopeKind": "class"}, {"_type": "tag", "name": "external_api_url", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    external_api_url: HttpUrl = Field(..., description=\"External API endpoint to send decoded QR/", "language": "Python", "typeref": "typename:HttpUrl", "kind": "variable", "scope": "ServiceConfig", "scopeKind": "class"}, {"_type": "tag", "name": "external_api_url", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    external_api_url: Optional[HttpUrl] = Field(default=None, description=\"External API endpoint/", "language": "Python", "typeref": "typename:Optional[HttpUrl]", "kind": "variable", "scope": "UpdateConfigRequest", "scopeKind": "class"}, {"_type": "tag", "name": "external_response_echo", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    external_response_echo: Optional[Dict[str, Any]] = Field(default=None, description=\"Echo of /", "language": "Python", "typeref": "typename:Optional[Dict[str, Any]]", "kind": "variable", "scope": "ProcessQRResponse", "scopeKind": "class"}, {"_type": "tag", "name": "external_status", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    external_status: Optional[int] = Field(default=None, description=\"HTTP status from external /", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "ProcessQRResponse", "scopeKind": "class"}, {"_type": "tag", "name": "forwarded_status", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    forwarded_status: Optional[int] = Field(default=None, description=\"HTTP status from webhook /", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "ProcessQRResponse", "scopeKind": "class"}, {"_type": "tag", "name": "get_config", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^def get_config() -> ConfigResponse:$/", "language": "Python", "typeref": "typename:ConfigResponse", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "is_running", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    def is_running(self) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self)", "scope": "QRScannerService", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    message: str = Field(..., description=\"Human readable message.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "ProcessQRResponse", "scopeKind": "class"}, {"_type": "tag", "name": "process_qr", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^def process_qr(req: ProcessQRRequest) -> ProcessQRResponse:$/", "language": "Python", "typeref": "typename:ProcessQRResponse", "kind": "function", "signature": "(req: ProcessQRRequest)"}, {"_type": "tag", "name": "scan_interval_ms", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    scan_interval_ms: Optional[int] = Field(default=None, ge=50, le=5000, description=\"Override /", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "StartScanRequest", "scopeKind": "class"}, {"_type": "tag", "name": "scan_interval_ms", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    scan_interval_ms: Optional[int] = Field(default=None, ge=50, le=5000, description=\"Scan inte/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "UpdateConfigRequest", "scopeKind": "class"}, {"_type": "tag", "name": "scan_interval_ms", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    scan_interval_ms: int = Field(default=250, ge=50, le=5000, description=\"Delay between frame /", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "ServiceConfig", "scopeKind": "class"}, {"_type": "tag", "name": "scanner_status", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^def scanner_status() -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "send_unique_only", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    send_unique_only: Optional[bool] = Field(default=None, description=\"Avoid resending duplicat/", "language": "Python", "typeref": "typename:Optional[bool]", "kind": "variable", "scope": "UpdateConfigRequest", "scopeKind": "class"}, {"_type": "tag", "name": "send_unique_only", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    send_unique_only: bool = Field(default=True, description=\"If true, do not resend identical Q/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "ServiceConfig", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    def start(self, camera_index: int, scan_interval_ms: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, camera_index: int, scan_interval_ms: int)", "scope": "QRScannerService", "scopeKind": "class"}, {"_type": "tag", "name": "start_scanner", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^def start_scanner(req: StartScanRequest = Body(default=None)) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(req: StartScanRequest = Body(default=None))"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    status: str = Field(..., description=\"Status message for stop operation.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "StopScanResponse", "scopeKind": "class"}, {"_type": "tag", "name": "stop", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    def stop(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "QRScannerService", "scopeKind": "class"}, {"_type": "tag", "name": "stop_scanner", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^def stop_scanner() -> StopScanResponse:$/", "language": "Python", "typeref": "typename:StopScanResponse", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "update_config", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^def update_config(req: UpdateConfigRequest) -> ConfigResponse:$/", "language": "Python", "typeref": "typename:ConfigResponse", "kind": "function", "signature": "(req: UpdateConfigRequest)"}, {"_type": "tag", "name": "webhook_url", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    webhook_url: HttpUrl = Field(..., description=\"Webhook URL to forward the external API respo/", "language": "Python", "typeref": "typename:HttpUrl", "kind": "variable", "scope": "ServiceConfig", "scopeKind": "class"}, {"_type": "tag", "name": "webhook_url", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^    webhook_url: Optional[HttpUrl] = Field(default=None, description=\"Webhook endpoint.\")$/", "language": "Python", "typeref": "typename:Optional[HttpUrl]", "kind": "variable", "scope": "UpdateConfigRequest", "scopeKind": "class"}, {"_type": "tag", "name": "websocket_usage_notes", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/src/api/main.py", "pattern": "/^def websocket_usage_notes() -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()"}], "hash": "e0a897884a3b2fd5b6c03bd636306a1e", "format-version": 4, "code-base-name": "qr_code_processing_backend", "filename": "qr_code_processing_backend/src/api/main.py", "fields": [{"name": "ServiceConfig CONFIG", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DEFAULT_API_KEY = os.getenv(\"EXTERNAL_API_KEY\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DEFAULT_EXTERNAL_API_URL = os.getenv(\"EXTERNAL_API_URL\", \"https:\\/\\/httpbin.org\\/post\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DEFAULT_WEBHOOK_URL = os.getenv(\"WEBHOOK_URL\", \"https:\\/\\/httpbin.org\\/post\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SCANNER = QRScannerService()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[int] camera_index", "scope": "StartScanRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "int camera_index", "scope": "ServiceConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "ServiceConfig config", "scope": "ConfigResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str data", "scope": "ProcessQRRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] external_api_key", "scope": "ServiceConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "HttpUrl external_api_url", "scope": "ServiceConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[HttpUrl] external_api_url", "scope": "UpdateConfigRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[Dict[str, Any]] external_response_echo", "scope": "ProcessQRResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] external_status", "scope": "ProcessQRResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] forwarded_status", "scope": "ProcessQRResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str message", "scope": "ProcessQRResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] scan_interval_ms", "scope": "StartScanRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "int scan_interval_ms", "scope": "ServiceConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[bool] send_unique_only", "scope": "UpdateConfigRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "bool send_unique_only", "scope": "ServiceConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "str status", "scope": "StopScanResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "HttpUrl webhook_url", "scope": "ServiceConfig", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[HttpUrl] webhook_url", "scope": "UpdateConfigRequest", "scopeKind": "class", "description": "unavailable"}]}