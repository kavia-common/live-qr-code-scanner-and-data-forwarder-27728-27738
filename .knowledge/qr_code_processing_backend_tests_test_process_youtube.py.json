{"is_source_file": true, "format": "Python", "description": "Test suite for the /process_youtube FastAPI endpoint, mocking YouTube video download and QR detection functions to verify scanning behavior.", "external_files": ["src.api.main"], "external_methods": ["pytest.MonkeyPatch", "pytest.fixture", "client.post"], "published": [], "classes": [{"name": "FakeStream", "description": "Mocked stream object simulating download capability."}, {"name": "FakeStreams", "description": "Mocked streams collection to simulate filtering and ordering of streams."}, {"name": "FakeYouTube", "description": "Mocked YouTube object to simulate video streaming interface."}], "methods": [{"name": "None test_process_youtube_success_with_detected_codes(client: TestClient, monkeypatch: pytest.MonkeyPatch)", "description": "Test successful QR code detection with mocked YouTube download and QR detection functions.", "scope": "", "scopeKind": ""}, {"name": "None test_process_youtube_success_no_codes_found(client: TestClient, monkeypatch: pytest.MonkeyPatch)", "description": "Test scenario where no QR codes are detected from a video.", "scope": "", "scopeKind": ""}, {"name": "None test_process_youtube_rejects_invalid_url(client: TestClient)", "description": "Test validation response to an invalid URL input.", "scope": "", "scopeKind": ""}, {"name": "None __init__(self, url: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeYouTube", "scopeKind": "class", "description": "unavailable"}, {"name": "str download(self, output_path: str, filename: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeStream", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str,Any] fake_detect(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_first: bool = True)", "scope": "test_process_youtube_success_with_detected_codes", "scopeKind": "function", "description": "unavailable"}, {"name": "Dict[str,Any] fake_detect_none(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_first: bool = True)", "scope": "test_process_youtube_success_no_codes_found", "scopeKind": "function", "description": "unavailable"}, {"name": "filter(self, progressive: bool = None, file_extension: str = None)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class", "description": "unavailable"}, {"name": "first(self)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class", "description": "unavailable"}, {"name": "order_by(self, key: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class", "description": "unavailable"}], "calls": ["api_main.YouTube", "api_main._detect_qr_from_video_file", "client.post"], "search-terms": ["test_process_youtube", "mock YouTube", "QR detection", "FastAPI test", "pytest", "video QR code"], "state": 2, "file_id": 16, "knowledge_revision": 49, "git_revision": "", "ctags": [{"_type": "tag", "name": "FakeStream", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeStream:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_no_codes_found", "scopeKind": "function"}, {"_type": "tag", "name": "FakeStream", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeStream:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_with_detected_codes", "scopeKind": "function"}, {"_type": "tag", "name": "FakeStreams", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeStreams:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_no_codes_found", "scopeKind": "function"}, {"_type": "tag", "name": "FakeStreams", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeStreams:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_with_detected_codes", "scopeKind": "function"}, {"_type": "tag", "name": "FakeYouTube", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeYouTube:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_no_codes_found", "scopeKind": "function"}, {"_type": "tag", "name": "FakeYouTube", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeYouTube:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_with_detected_codes", "scopeKind": "function"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def __init__(self, url: str) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, url: str)", "scope": "test_process_youtube_success_no_codes_found.FakeYouTube", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def __init__(self, url: str) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, url: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeYouTube", "scopeKind": "class"}, {"_type": "tag", "name": "api_main", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^from src.api import main as api_main$/", "language": "Python", "kind": "unknown", "nameref": "unknown:main"}, {"_type": "tag", "name": "download", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def download(self, output_path: str, filename: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, output_path: str, filename: str)", "scope": "test_process_youtube_success_no_codes_found.FakeStream", "scopeKind": "class"}, {"_type": "tag", "name": "download", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def download(self, output_path: str, filename: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, output_path: str, filename: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeStream", "scopeKind": "class"}, {"_type": "tag", "name": "fake_detect", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    def fake_detect(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_first: /", "file": true, "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_first: bool = True)", "scope": "test_process_youtube_success_with_detected_codes", "scopeKind": "function"}, {"_type": "tag", "name": "fake_detect_none", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    def fake_detect_none(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_fi/", "file": true, "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_first: bool = True)", "scope": "test_process_youtube_success_no_codes_found", "scopeKind": "function"}, {"_type": "tag", "name": "filter", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def filter(self, progressive: bool = None, file_extension: str = None):$/", "language": "Python", "kind": "member", "signature": "(self, progressive: bool = None, file_extension: str = None)", "scope": "test_process_youtube_success_no_codes_found.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "filter", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def filter(self, progressive: bool = None, file_extension: str = None):$/", "language": "Python", "kind": "member", "signature": "(self, progressive: bool = None, file_extension: str = None)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "first", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def first(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "test_process_youtube_success_no_codes_found.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "first", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def first(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "order_by", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def order_by(self, key: str):$/", "language": "Python", "kind": "member", "signature": "(self, key: str)", "scope": "test_process_youtube_success_no_codes_found.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "order_by", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def order_by(self, key: str):$/", "language": "Python", "kind": "member", "signature": "(self, key: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "test_process_youtube_rejects_invalid_url", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^def test_process_youtube_rejects_invalid_url(client: TestClient) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(client: TestClient)"}, {"_type": "tag", "name": "test_process_youtube_success_no_codes_found", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^def test_process_youtube_success_no_codes_found(client: TestClient, monkeypatch: pytest.MonkeyPa/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(client: TestClient, monkeypatch: pytest.MonkeyPatch)"}, {"_type": "tag", "name": "test_process_youtube_success_with_detected_codes", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^def test_process_youtube_success_with_detected_codes(client: TestClient, monkeypatch: pytest.Mon/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(client: TestClient, monkeypatch: pytest.MonkeyPatch)"}], "hash": "fa87d76b6428c6fef4158f78f1dfdee3", "format-version": 4, "code-base-name": "qr_code_processing_backend", "filename": "qr_code_processing_backend/tests/test_process_youtube.py", "revision_history": [{"49": ""}]}