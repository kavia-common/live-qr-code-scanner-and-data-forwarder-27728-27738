{"is_source_file": true, "format": "Python", "description": "Test cases for the /process_youtube endpoint, utilizing FastAPI's TestClient and mocking external dependencies such as YouTube download and QR detection functions.", "external_files": ["src.api.main"], "external_methods": ["pytest.MonkeyPatch", "fastapi.testclient.TestClient", "pytest", "pytest.MonkeyPatch", "api_main.YouTube", "_detect_qr_from_video_file"], "published": ["test_process_youtube_success_with_detected_codes", "test_process_youtube_success_no_codes_found", "test_process_youtube_rejects_invalid_url"], "classes": [{"name": "FakeStream", "description": "Mock class simulating a video stream with a download method."}, {"name": "FakeStreams", "description": "Mock class providing chainable filters and ordering for streams."}, {"name": "FakeYouTube", "description": "Mock class simulating the pytube.YouTube class for testing without network access."}], "methods": [{"name": "None test_process_youtube_success_with_detected_codes(client: TestClient, monkeypatch: pytest.MonkeyPatch)", "description": "Tests successful QR code detection from a YouTube video, mocking YouTube download and QR detection.", "scope": "", "scopeKind": ""}, {"name": "None test_process_youtube_success_no_codes_found(client: TestClient, monkeypatch: pytest.MonkeyPatch)", "description": "Tests scenario where no QR codes are detected in the video, mocking dependencies similarly.", "scope": "", "scopeKind": ""}, {"name": "None test_process_youtube_rejects_invalid_url(client: TestClient)", "description": "Tests request validation for invalid URL input, ensuring proper error handling.", "scope": "", "scopeKind": ""}, {"name": "None __init__(self, url: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeYouTube", "scopeKind": "class", "description": "unavailable"}, {"name": "str download(self, output_path: str, filename: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeStream", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str,Any] fake_detect(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_first: bool = True)", "scope": "test_process_youtube_success_with_detected_codes", "scopeKind": "function", "description": "unavailable"}, {"name": "Dict[str,Any] fake_detect_none(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_first: bool = True)", "scope": "test_process_youtube_success_no_codes_found", "scopeKind": "function", "description": "unavailable"}, {"name": "filter(self, progressive: bool = None, file_extension: str = None)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class", "description": "unavailable"}, {"name": "first(self)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class", "description": "unavailable"}, {"name": "order_by(self, key: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class", "description": "unavailable"}], "calls": ["api_main.YouTube", "_detect_qr_from_video_file", "client.post"], "search-terms": ["test_process_youtube", "QR code detection", "FastAPI TestClient", "Mockito for video streams", "mock YouTube download", "unit test for /process_youtube"], "state": 2, "file_id": 16, "knowledge_revision": 50, "git_revision": "8e3aa835266e6e3cd0db9b360f4eaad8eecc8ee3", "revision_history": [{"49": ""}, {"50": "8e3aa835266e6e3cd0db9b360f4eaad8eecc8ee3"}], "ctags": [{"_type": "tag", "name": "FakeStream", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeStream:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_no_codes_found", "scopeKind": "function"}, {"_type": "tag", "name": "FakeStream", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeStream:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_with_detected_codes", "scopeKind": "function"}, {"_type": "tag", "name": "FakeStreams", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeStreams:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_no_codes_found", "scopeKind": "function"}, {"_type": "tag", "name": "FakeStreams", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeStreams:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_with_detected_codes", "scopeKind": "function"}, {"_type": "tag", "name": "FakeYouTube", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeYouTube:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_no_codes_found", "scopeKind": "function"}, {"_type": "tag", "name": "FakeYouTube", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    class FakeYouTube:$/", "file": true, "language": "Python", "kind": "class", "scope": "test_process_youtube_success_with_detected_codes", "scopeKind": "function"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def __init__(self, url: str) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, url: str)", "scope": "test_process_youtube_success_no_codes_found.FakeYouTube", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def __init__(self, url: str) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, url: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeYouTube", "scopeKind": "class"}, {"_type": "tag", "name": "api_main", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^from src.api import main as api_main$/", "language": "Python", "kind": "unknown", "nameref": "unknown:main"}, {"_type": "tag", "name": "download", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def download(self, output_path: str, filename: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, output_path: str, filename: str)", "scope": "test_process_youtube_success_no_codes_found.FakeStream", "scopeKind": "class"}, {"_type": "tag", "name": "download", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def download(self, output_path: str, filename: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, output_path: str, filename: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeStream", "scopeKind": "class"}, {"_type": "tag", "name": "fake_detect", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    def fake_detect(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_first: /", "file": true, "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_first: bool = True)", "scope": "test_process_youtube_success_with_detected_codes", "scopeKind": "function"}, {"_type": "tag", "name": "fake_detect_none", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^    def fake_detect_none(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_fi/", "file": true, "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(path: str, max_frames: int = 1500, frame_stride: int = 5, stop_after_first: bool = True)", "scope": "test_process_youtube_success_no_codes_found", "scopeKind": "function"}, {"_type": "tag", "name": "filter", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def filter(self, progressive: bool = None, file_extension: str = None):$/", "language": "Python", "kind": "member", "signature": "(self, progressive: bool = None, file_extension: str = None)", "scope": "test_process_youtube_success_no_codes_found.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "filter", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def filter(self, progressive: bool = None, file_extension: str = None):$/", "language": "Python", "kind": "member", "signature": "(self, progressive: bool = None, file_extension: str = None)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "first", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def first(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "test_process_youtube_success_no_codes_found.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "first", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def first(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "order_by", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def order_by(self, key: str):$/", "language": "Python", "kind": "member", "signature": "(self, key: str)", "scope": "test_process_youtube_success_no_codes_found.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "order_by", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^        def order_by(self, key: str):$/", "language": "Python", "kind": "member", "signature": "(self, key: str)", "scope": "test_process_youtube_success_with_detected_codes.FakeStreams", "scopeKind": "class"}, {"_type": "tag", "name": "test_process_youtube_rejects_invalid_url", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^def test_process_youtube_rejects_invalid_url(client: TestClient) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(client: TestClient)"}, {"_type": "tag", "name": "test_process_youtube_success_no_codes_found", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^def test_process_youtube_success_no_codes_found(client: TestClient, monkeypatch: pytest.MonkeyPa/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(client: TestClient, monkeypatch: pytest.MonkeyPatch)"}, {"_type": "tag", "name": "test_process_youtube_success_with_detected_codes", "path": "/home/kavia/workspace/code-generation/live-qr-code-scanner-and-data-forwarder-27728-27738/qr_code_processing_backend/tests/test_process_youtube.py", "pattern": "/^def test_process_youtube_success_with_detected_codes(client: TestClient, monkeypatch: pytest.Mon/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(client: TestClient, monkeypatch: pytest.MonkeyPatch)"}], "hash": "fa87d76b6428c6fef4158f78f1dfdee3", "format-version": 4, "code-base-name": "qr_code_processing_backend", "filename": "qr_code_processing_backend/tests/test_process_youtube.py"}